# Imel (IME Indicator)

**Imel (アイメル)** は、Windows 11 向けのシンプルなIME状態表示ツールです。
名前は「IME」と「見える（Mieru）」を組み合わせた造語で、入力状態が一目でわかるようにという意図が込められています。

マウスカーソルのすぐそばに、現在の入力モード（「_A」や「あ」など）を表示します。視線をタスクバーに移動させることなく、手元で入力状態を確認できます。

## 特徴

* **直感的な表示**: マウスカーソルに追従して、現在の入力モードを表示します。
    * 半角英数 (`_A`)、全角英数 (`Ａ`)、ひらがな (`あ`)、半角カタカナ (`_ｶ`)、全角カタカナ (`カ`) を判別可能です。
* **テーマ対応設定画面**: Windows 11 のデザインに準拠し、ライト/ダークモードの切り替えに対応した美しい設定画面を提供します (**v1.0.4 New**)。
* **省リソース設計**: 常駐ツールとして、メモリ使用量や描画負荷に配慮して設計されています。
* **カスタマイズ性**:
    * **テーマ切り替え**: ライトモード・ダークモード・システム設定追従から選択可能 (**v1.0.4 New**)。
    * **表示カスタマイズ**: サイズ（倍率）、文字色・背景色（RGB指定可）、透過率、位置オフセットなどを微調整可能。
* **カーソル連動**:
    * 動画視聴時など、OS側でマウスカーソルが非表示になると、自動的にインジケーターも隠れます（設定でON/OFF可）。
    * Windows起動時の自動実行（スタートアップ）に対応。
* **タスクトレイ常駐**: 作業を妨げず、いつでも設定画面へアクセス可能。

## 動作環境

* **OS**: Windows 11
* **ランタイム**: .NET 8.0 Desktop Runtime

## インストールと実行

### バイナリを使用する場合
リリースページから zip ファイルをダウンロードして展開し、`Imel.exe` を実行してください。

### ソースコードからビルドする場合
1.  このリポジトリをクローンします。
2.  Visual Studio 2022 で `Imel.csproj` を開きます。
3.  ソリューション構成を `Release` に設定し、ビルドします。
4.  `bin/Release/net8.0-windows` フォルダ内の `Imel.exe` を実行します。

## 更新履歴

### v1.0.4 (2025-12-20)
* **設定画面の機能強化とデザイン刷新**:
    * **テーマ設定の実装**: アプリケーションの配色を「ライト」「ダーク」「システム設定」から選択可能になりました。
    * **Mica マテリアルの適用**: 設定ウィンドウの背景に Mica 効果を適用し、Windows 11 デスクトップとの親和性を高めました。
    * **レイアウトの最適化**: 画面サイズをコンパクトに固定し、スクロール不要で全設定項目にアクセスできるようUIレイアウトを再調整しました。

### v1.0.3 (2025-12-18)
* **【重要】キーボード入力の安定性を向上**:
    * 特定の条件下で、キーボード入力が一時的に受け付けられなくなる（フリーズする）致命的な不具合を修正しました。
    * 内部ロジックを刷新し、`AttachThreadInput`（スレッド入力の共有）を廃止しました。代わりに `SendMessageTimeout` と `GetGUIThreadInfo` を組み合わせた非同期通信方式を採用することで、監視対象のアプリケーションが応答しない場合でも、Imelおよびシステム全体の入力処理が巻き込まれて停止しないように改善しました。

### v1.0.2 (2025-12-17)
* **設定画面UIのモダナイズ化**: 設定画面のデザインとレイアウトを刷新し、モダンで洗練されたインターフェースへ進化しました。
    * **一覧性の向上**: ウィンドウサイズを最適化し、スクロールなしですべての設定項目へアクセス可能になりました。
    * **操作性の改善**: RGBカラー設定や各項目の配置を見直し、より直感的にカスタマイズできるよう調整しました。
* **その他**: プロジェクト構成の最適化と、バージョン情報の更新を行いました。

## 開発環境

* Visual Studio 2022
* C# (WPF / .NET 8)

## ライセンス

本ソフトウェアは [MIT License](LICENSE) の下で公開されています。
詳細は LICENSE ファイルをご確認ください。